<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="resource/images/favicon.png" sizes="32x32" type="image/png">
  <title>Contrapunto</title>
  <link rel="stylesheet" href="style_secundario.css">
</head>
<body>

    <section class="sketchfab-section" id="sketchfab">
        <div class="carousel-wrapper">
        <button class="arrow left" onclick="prevModel()">&#10094;</button>

        <div class="models-container">
            <div class="sketchfab-embed-wrapper" data-model="0">
            <iframe title="Robot de Conejos"
                src="https://sketchfab.com/models/86b3e04c04cf481a9ec7a8da1110b311/embed"
                frameborder="0" allowfullscreen mozallowfullscreen="true"
                webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking"
                xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered
                web-share>
            </iframe>
            </div>

            <div class="sketchfab-embed-wrapper" style="display: none;" data-model="1">
            <iframe title="Ballena Robot"
                src="https://sketchfab.com/models/552ffaadf5f64ba9b04cc5652e6bfb57/embed"
                frameborder="0" allowfullscreen mozallowfullscreen="true"
                webkitallowfullscreen="true" allow="autoplay; fullscreen">
            </iframe> 
            </div>

            <div class="sketchfab-embed-wrapper" style="display: none;" data-model="2">
            <iframe title="Hello Kitty Robot"
                src="https://sketchfab.com/models/9160bb2daa0141cea659488abc17699c/embed"
                frameborder="0" allowfullscreen mozallowfullscreen="true"
                webkitallowfullscreen="true" allow="autoplay; fullscreen">
            </iframe> 
            </div>

            <div class="sketchfab-embed-wrapper" style="display: none;" data-model="3">
            <iframe title="Maquina de Coser"
                src="https://sketchfab.com/models/5733088568c7413582d446576bd6b462/embed"
                frameborder="0" allowfullscreen mozallowfullscreen="true"
                webkitallowfullscreen="true" allow="autoplay; fullscreen">
            </iframe> 
            </div>

            <div class="sketchfab-embed-wrapper" style="display: none;" data-model="4">
            <iframe title=" Moto"
                src="https://sketchfab.com/models/1dae4a0fd98443c38b90f9766a67b077/embed"
                frameborder="0" allowfullscreen mozallowfullscreen="true"
                webkitallowfullscreen="true" allow="autoplay; fullscreen">
            </iframe> 
            </div>

            <div class="sketchfab-embed-wrapper" style="display: none;" data-model="5">
            <iframe title="Van Vintage"
                src="https://sketchfab.com/models/f900d821e7174df3bfef9c26a4fbf768/embed"
                frameborder="0" allowfullscreen mozallowfullscreen="true"
                webkitallowfullscreen="true" allow="autoplay; fullscreen">
            </iframe> 
            </div>

            <div class="sketchfab-embed-wrapper" style="display: none;" data-model="6">
            <iframe title="Auto Antiguo"
                src="https://sketchfab.com/models/f8a89345b18a47c7ac2597bac504a91c/embed"
                frameborder="0" allowfullscreen mozallowfullscreen="true"
                webkitallowfullscreen="true" allow="autoplay; fullscreen">
            </iframe> 
            </div>

            
            <div class="sketchfab-embed-wrapper" style="display: none;" data-model="7">
            <iframe title="Compu Cute"
                src="https://sketchfab.com/models/8abc0bc819474aea95f3ab189c83bda9/embed"
                frameborder="0" allowfullscreen mozallowfullscreen="true"
                webkitallowfullscreen="true" allow="autoplay; fullscreen">
            </iframe> 
            </div>
        </div>

        <button class="arrow right" onclick="nextModel()">&#10095;</button>
        </div>

        <div class="volver-container">
        <a href="#" onclick="guardarYVolver('.contenedor-3d2')" class="volver-btn2">
            <span>&lt; CLICKEAME PARA VOLVER A VER COSAS COOL &gt;</span>
        </a>
        </div>
  </section>

  <script>

  // ① DEFÍNELO EN EL ÁMBITO GLOBAL
  function guardarYVolver(selector) {
    // 1) indicamos que ya hicimos el ensamblado
    sessionStorage.setItem('ensamblado', 'true');
    // 2) guardamos la posición a la que queremos scroll (offsetTop de la sección)
    //    que en index está: <section id="motion-graphics">
    sessionStorage.setItem('scrollTo', selector);
    // 3) volvemos a la home
    window.location.href = 'index.html';
  }
    // 1. Caching de todos los wrappers
  const wrappers = document.querySelectorAll('.sketchfab-embed-wrapper');

  // 2. Lee parámetro ?model=N de la URL
  const params = new URLSearchParams(window.location.search);
  let currentModel = parseInt(params.get('model'), 10);
  if (isNaN(currentModel) || currentModel < 0 || currentModel >= wrappers.length) {
    currentModel = 0;
  }

  // 3. Función que muestra sólo el índice i
  function showModel(i) {
    wrappers.forEach((w, k) => {
      w.style.display = (k === i) ? 'block' : 'none';
    });
  }

  // 4. Exponer prev/next para tus botones de flecha
  window.prevModel = () => {
    currentModel = (currentModel - 1 + wrappers.length) % wrappers.length;
    showModel(currentModel);
  };
  window.nextModel = () => {
    currentModel = (currentModel + 1) % wrappers.length;
    showModel(currentModel);
  };

  // 5. Al cargar la página, muestra el modelo inicial
  document.addEventListener('DOMContentLoaded', () => {
    showModel(currentModel);
  });
</script>




</body>
</html>

